<!doctype html>
<html lang="en">
    <head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>El crucero de Barb y Star</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/brb.css">
        <link rel="stylesheet" href="dist/extra.css">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css">
    </head>
    <body>
	<div class="reveal">
	    <div class="slides">
		<section data-background="https://live.staticflickr.com/65535/50389036031_b2d09738ac_k_d.jpg"><h1>C√≥mo seguir al crucero de tus
		    sue√±os</h1>
                    <h2><code>jjmerelo</code>, <a href="https://github.com/JJ">
                        <img width="100" src="img/github.svg">
	                <code>JJ</code></a>
                    </h2>
                </section>

		<section
                    data-background="https://live.staticflickr.com/65535/52263809400_29f744cb06_3k_d.jpg">
                    <h1>Padre orgulloso</h1>
                    <h2 class="fragment">Veneci√≥filo</h2>
                </section>

                <section data-background="https://live.staticflickr.com/8131/29161130422_7587cc177b_3k_d.jpg"><h1>¬øCu√°l es el barco de tus sue√±os?</h1>
                    <aside class="notes">Vamos a seguir este barco durante la
                    charla. Si no sale ninguno, nos vamos a la regata de Venecia
                        o al puerto de Motril.</aside>
                </section>

                <section><h1>Siguelo</h1>
                    <img src="img/brbstarbot.png" alt="https://t.me/BrbStrBot">
                </section>

                <section data-background="img/barb-star.jpg">
                    <h1>¬øComo comienza un proyecto de software libre?</h1>
                    <aside class="notes">Otra de mis hijas y mi mujer se iban de
                    crucero, y mientras no estuvieran en puerto iban a estar
                    fuera de cobertura. As√≠ que, por curiosidad, trat√© de buscar
                    una forma de saber cuando iban a llegar a puerto o cuando
                    iban a salir de cobertura. Es decir, la t√≠pica cosa que te
                        pica y que te acaba generando un proyecto de softwarea
                        libre. Como tenemos ya un grupo de Telegram, al final lo
                    m√°s pr√°ctico era hacer un bot de Telegram.
                    </aside>
                </section>

                <section
                data-background="https://live.staticflickr.com/65535/53249526597_f7475c80cc_k_d.jpg"><h1>Pregunt√°ndole
                    a ChatGPT</h1>
                    <h2 class="fragment">ü§ñ: "B√∫scate la vida"</h2>

                    <pre><code class="fragment"># Replace API_URL with the URL of the API that provides information about the harbor
api_url = f'https://example.com/api/harbors/{harbor_code}/ship-info?key={api_key}'

# Make an HTTP request to the API to obtain information about ship arrivals and departures
response = requests.get(api_url)
ship_info = response.json()
                    </code></pre>

                    <aside class="notes">Daba el c√≥digo correcto en Python para
                la parte del bot de Telegram, pero hasta ah√≠ llegamos, pero no
                sab√≠a decirme qu√© API hab√≠a para saber cuando un barco llega o
                        sale de un puerto.</aside>
                </section>

                <section> <!-- D√≥nde estar√° mi barco -->

                    <section><img src="img/movimiento-buques.jpg" alt="Movimiento
	                               buques de El Orden">
                        <aside class="notes">este tipo de noticias se insertaban
	                    en los diarios de zonas con puerto, y
	                    siempre los le√≠a con curiosidad, ver a
	                    qu√© sitios ex√≥ticos iban y
	                    ven√≠an. Evidentemente no cambiaban m√°s
	                    que una vez al d√≠a y si acaso. Hac√≠a
	                    falta algo m√°s r√°pido. Curiosamente, <a
	                                                             href="https://wrecksite.eu/wreck.aspx?213479">este
	                    barco Buda II acab√≥ en la marina japonesa y
	                    hundido</a> (incluso <a
	                               href="http://www.combinedfleet.com/Hoshi_t.htm">hay
	                    una ilustraci√≥n</a>,
	                               pero se pueden saber un mont√≥n de cosas
	                               sobre los barcos simplemente buscando</aside>
                    </section>

		    <section><h1>Hoy: VesselFinder</h1>
		      <img src='img/vesselfinder-real.png' alt='puerto de Motril en VesselFinder'>

		      <aside class='notes'>Es capaz de encontrarte una
		      nave usando diferentes sistemas de
		      identificaci√≥n, pero el problema es que hay que
		      meterse en la web y todo eso. Sin embargo, este
		      usa un sistema espec√≠fico. Tambi√©n tiene un API. De pago, claro.</aside>
		     </section>


                    <section data-background="https://live.staticflickr.com/5576/14904337916_28b8919082_o_d.jpg"><h1><em>Automatic identification of ships</em> lo
                        sabe</h1>

                        <aside class="notes">Es un sistema basado en bases
                    terrestres que reciben paquetes de datos peque√±os con
                            informaci√≥n sobre las coordenadas, nombre del barco, y poco m√°s</aside>
                    </section>

                    <section data-background=""><h1>No sin mi API</h1>
                        <h2 class="fragment">Un torrente:
                            <code>AISStream</code></h2>
                    </section>

                    <section
                        data-background="https://live.staticflickr.com/1894/43353605435_a7edad6431_3k_d.jpg"><h1>¬°Usemos
                        <strike>Python</strike><strike>
                        <code>deno</code></strike> 
                        Node.js!</h1>
                        <img class="fragment" src="img/muchos-commits.png">
                        <aside class="notes"> Finalmente con la ayuda de
                        StackOverflow (que no de CoPilot) logr√© echar a andar
                        una versi√≥n con deno. Pr√≥ximamente en sus repositorios
                            de referencia.</aside>
                    </section>
                        
                    <section data-background="https://live.staticflickr.com/2334/2371256633_f1d595b42c_o_d.jpg"><h1>Escuchando el
                        Mediterr√°neo</h1>
                        <pre><code data-line-numbers="1|2|3-9|8|6">const socket = new WebSocket("wss://stream.aisstream.io/v0/stream");
// Lee BoundingBoxes de un fichero...
socket.addEventListener("open", (_) => {
  const subscriptionMessage = {
    APIkey: API_KEY,
    BoundingBoxes: boundingBoxes, // [ [ [46, -10], [30, 30] ] ]
  };
  socket.send(JSON.stringify(subscriptionMessage));
});                        </code></pre></section>

                    <section><h1>Mensaje recibido</h1>
                        <pre style="font-size:0.8em"><code data-line-numbers="3,8,23|25-27|1-22|23|24-31|27-29">{
 Message: {
   PositionReport: {
     Cog: 116.2,
     CommunicationState: 59916,
     Latitude: 38.035088333333334,
     Longitude: 23.55172333333333,
     MessageID: 1,
     NavigationalStatus: 0,
     PositionAccuracy: true,
     Raim: false,
     RateOfTurn: -128,
     RepeatIndicator: 0,
     Sog: 0,
     Spare: 0,
     SpecialManoeuvreIndicator: 0,
     Timestamp: 34,
     TrueHeading: 511,
     UserID: 237128700,
     Valid: true
   }
 },
 MessageType: 'PositionReport',
 MetaData: {
   MMSI: 237128700,
   MMSI_String: 237128700,
   ShipName: 'MARIA T',
   latitude: 38.035088333333334,
   longitude: 23.55172333333333,
   time_utc: '2023-10-13 15:44:34.571915913 +0000 UTC'
 }
} </code></pre>
                    </section>

                    <section><h1>Procesando los mensajes</h1>
                    </section>
                </section>
	    </div>
	</div>

	<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			Reveal.initialize({
				hash: true,
                            history: true,
                            width: '95%',
                            height: '100%',
			    controls: true,
			    progress: true,
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
